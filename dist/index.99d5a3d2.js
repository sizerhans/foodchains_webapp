(()=>{const t=320;let e=0,n=!1,o=null,i=null,d=null,c=null;function r(){const t=i.getContext("2d");t.fillStyle="#AAA",t.fillRect(0,0,i.width,i.height);const e=i.toDataURL("image/png");d.setAttribute("src",e)}window.addEventListener("load",(function(){(function(){if(window.self!==window.top){document.querySelector(".contentarea").remove();const t=document.createElement("button");return t.textContent="View live result of the example code above",document.body.append(t),t.addEventListener("click",(()=>window.open(location.href))),!0}return!1})()||(o=document.getElementById("video"),i=document.getElementById("canvas"),d=document.getElementById("photo"),c=document.getElementById("startbutton"),navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"environment"}}).then((t=>{o.srcObject=t,o.play()})).catch((t=>{console.error(`An error occurred: ${t}`)})),o.addEventListener("canplay",(d=>{n||(e=o.videoHeight/(o.videoWidth/t),o.setAttribute("width",t),o.setAttribute("height",e),i.setAttribute("width",t),i.setAttribute("height",e),n=!0)}),!1),c.addEventListener("click",(n=>{!function(){const n=i.getContext("2d");if(t&&e){i.width=t,i.height=e,n.drawImage(o,0,0,t,e);const c=i.toDataURL("image/png");d.setAttribute("src",c)}else r()}(),n.preventDefault()}),!1),r())}),!1)})();
//# sourceMappingURL=index.99d5a3d2.js.map
